{% import 'macros/form.html' as form %}

{% set contact_points_rows = h.ogdch_contact_points_form_helper(data) %}
{%- for row in contact_points_rows -%}
  {% call form.input(
    'contact-point-name-' + row.index,
    id='field-contact-point-name-' + row.index,
    label=h.scheming_language_text(field.label_name),
    placeholder=h.scheming_language_text(field.form_placeholder_name),
    value=row.data.name,
    error=errors['contact_points'],
    classes=['control-medium', row.css_class]
    ) %}
  {% endcall %}
  {% call form.input(
    'contact-point-email-' + row.index,
    id='field-contact-point-email-' + row.index,
    label=h.scheming_language_text(field.label_email),
    type='email',
    placeholder=h.scheming_language_text(field.form_placeholder_email),
    value=row.data.email,
    error=errors['contact_points'],
    classes=['control-medium', row.css_class]
    ) %}
  {% endcall %}
{%- endfor -%}
{%- snippet 'scheming/form_snippets/help_text.html', field=field -%}
<a data-module="ogdch_contact_points_add_rows"
      id="ogdch_contact_points_add_row"
      class="btn btn-default ogdch-btn-add-row"
      href="#ogdch_contact_points_pagemark">
  {{ h.scheming_language_text(field.add_row) }}
</a>
